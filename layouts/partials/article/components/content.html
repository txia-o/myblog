<section class="article-content">
    <!-- Refer to https://discourse.gohugo.io/t/responsive-tables-in-markdown/10639/5 -->
    {{ $wrappedTable := printf "<div class=\"table-wrapper\">${1}</div>" }}
    {{ .Content | replaceRE "(<table>(?:.|\n)+?</table>)" $wrappedTable | safeHTML }}
</section>

{{if ne .Params.password "" }}
    <script>
        (function(){
            if({{ .Params.password }}){
                if (prompt('请输入文章密码') != {{ .Params.password }}) {
                    alert('密码错误！');
                    if (history.length === 1) {
                        window.opener = null;
                        window.open('', '_self');
                        window.close();
                    } else {
                        history.back();
                    }
                }
            }
        })();
    </script>
{{ end }}